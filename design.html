<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ARKA — 3D Design Lab</title>
  <link rel="manifest" href="manifest.webmanifest"><meta name="theme-color" content="#0b1226">
  <link rel="icon" href="images/icon-192.png"><link rel="stylesheet" href="styles/styles_v2.css">
</head>
<body>

<header class="site">
  <a href="index.html" class="brand"><img src="images/arka-logo.png" alt="ARKA logo"><strong>ARKA</strong></a>
  <nav class="links">
    <a href="design.html">3D Designer</a>
    <a href="learn.html">Learn</a>
    <a href="gallery.html">Gallery</a>
    <a href="community.html">Community</a>
    <a href="login.html">Login</a>
    <a href="register.html">Register</a>
  </nav>
</header>

<div class="container">
  <h1>3D Design Lab</h1>
  <p class="small muted">Parametric modules, example layouts, GLB/GLTF upload — browser only.</p>
  <div class="layout">
    <aside class="sidebar card">
      <h3>Examples</h3>
      <ul id="exampleList" class="list"></ul>
      <hr style="border-color:#1a2652">
      <h3>Add Module</h3>
      <label>Shape
        <select id="shape">
          <option value="cylinder">Cylinder</option>
          <option value="sphere">Sphere</option>
          <option value="dome">Dome</option>
          <option value="capsule">Capsule</option>
          <option value="cube">Cube</option>
          <option value="ring">Ring</option>
        </select>
      </label>
      <div class="grid2">
        <label>Radius (m) <input type="number" id="radius" value="2.5" step="0.1"></label>
        <label>Height (m) <input type="number" id="height" value="5" step="0.1"></label>
      </div>
      <div class="grid2">
        <button class="btn" id="addToScene">Add</button>
        <button class="btn" id="clearScene">Clear</button>
      </div>
      <div class="grid2">
        <button class="btn" id="exportBtn">Export JSON</button>
        <label class="btn">Import JSON <input type="file" id="importInput" accept=".json" style="display:none"></label>
      </div>
      <h3>Upload GLB/GLTF</h3>
      <label class="btn">Choose file <input type="file" id="gltfInput" accept=".glb,.gltf,model/gltf-binary,model/gltf+json" style="display:none"></label>
      <div id="calcOut" class="notice" style="margin-top:10px"></div>
    </aside>
    <section class="card scene">
      <div id="imageStage" class="image-stage">
        <button class="nav prev" id="imgPrev" aria-label="Previous">‹</button>
        <img id="demoImage" src="images/demo1.jpg" alt="Concept image">
        <div id="stickerLayer" class="sticker-layer"></div>
        <button class="nav next" id="imgNext" aria-label="Next">›</button>
      </div>
      <canvas id="designCanvas" aria-label="3D scene" style="opacity:.08; pointer-events:none"></canvas>
      <div class="legend"><span class="chip" style="background:var(--c1)"></span>Parametric <span class="chip" style="background:var(--c2)"></span>GLTF/GLB</div>
    </section>
    <div class="image-controls">
      <button class="btn" id="bgColorBtn">Background</button>
      <button class="btn" id="addDoorBtn">Add Door</button>
      <button class="btn" id="addWindowBtn">Add Window</button>
      <button class="btn" id="addRoofBtn">Add Roof</button>
      <small class="muted">Tip: drag the items to reposition them.</small>
    </div>
  </div>
</div>
<footer class="site"><small>© 2025 ARKA — Moon-to-Mars Habitat Lab. Educational prototype. PWA enabled.</small></footer>
<script type="module" src="js/design.js"></script>
<script src="js/demo2d_v2.js"></script>
</body>
</html>
